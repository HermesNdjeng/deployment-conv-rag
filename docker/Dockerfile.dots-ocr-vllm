FROM vllm/vllm-openai:latest

WORKDIR /workspace

ENV MODEL_NAME="rednote-hilab/dots.ocr"
ENV PORT="8000"
ENV GPU_MEMORY_UTILIZATION="0.95"

EXPOSE 8000

CMD ["sh", "-c", "vllm serve ${MODEL_NAME} \
    --host 0.0.0.0 \
    --port ${PORT} \
    --trust-remote-code \
    --gpu-memory-utilization ${GPU_MEMORY_UTILIZATION}"]
