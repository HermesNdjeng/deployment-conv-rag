FROM vllm/vllm-openai:v0.13.0

WORKDIR /workspace

ENV MODEL_NAME="deepseek-ai/DeepSeek-OCR" \
    PORT="8000" \
    GPU_MEMORY_UTILIZATION="0.95" \
    MAX_NUM_SEQS="64" \
    MAX_MODEL_LEN="8192"

COPY docker/entrypoint.deepseek-ocr.sh /usr/local/bin/entrypoint.sh
RUN chmod +x /usr/local/bin/entrypoint.sh

EXPOSE 8000

ENTRYPOINT ["/usr/local/bin/entrypoint.sh"]
